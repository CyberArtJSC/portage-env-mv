Make shell work with set -u
Patch by Martin Vaeth <martin at mvath.de> from Jul 24, 2015
--- 1/etc/profile
+++ 1/etc/profile
@@ -26,15 +26,15 @@
 # It is intentional in the following line to use || instead of -o.
 # This way the evaluation can be short-circuited and calling whoami is
 # avoided.
-if [ "$EUID" = "0" ] || [ "$USER" = "root" ] ; then
-	PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:${ROOTPATH}"
+if [ "${EUID-}" = "0" ] || [ "${USER-}" = "root" ] ; then
+	PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin${ROOTPATH:+:}${ROOTPATH-}"
 else
-	PATH="/usr/local/bin:/usr/bin:/bin:${PATH}"
+	PATH="/usr/local/bin:/usr/bin:/bin${PATH:+:}${PATH-}"
 fi
 export PATH
 unset ROOTPATH
 
-if [ -n "${BASH_VERSION}" ] ; then
+if [ -n "${BASH_VERSION-}" ] ; then
 	# Newer bash ebuilds include /etc/bash/bashrc which will setup PS1
 	# including color.  We leave out color here because not all
 	# terminals support it.
